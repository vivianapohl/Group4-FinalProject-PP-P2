const assert = require('assert');
const formatDate = require('..');
const getOffsetString = require('../getOffsetString');

describe('formatDate', function () {

	const key = Date.now().toString(16);
	const d = new Date();

	d.setYear(2000);
	d.setMonth(0);
	d.setDate(2);
	d.setHours(3);
	d.setMinutes(4);
	d.setSeconds(5);

	it('should support %YYYY', function () {
		assert.equal(formatDate(d, `${key}%YYYY`), `${key}2000`);
	});

	it('should support %YY', function () {
		assert.equal(formatDate(d, `${key}%YY`), `${key}00`);
	});

	it('should support %MMMM', function () {
		assert.equal(formatDate(d, `${key}%MMMM`), `${key}January`);
	});

	it('should support %MMM', function () {
		assert.equal(formatDate(d, `${key}%MMM`), `${key}Jan`);
	});

	it('should support %MM', function () {
		assert.equal(formatDate(d, `${key}%MM`), `${key}01`);
	});

	it('should support %M', function () {
		assert.equal(formatDate(d, `${key}%M`), `${key}1`);
	});

	it('should support %DD', function () {
		assert.equal(formatDate(d, `${key}%DD`), `${key}02`);
	});

	it('should support %D', function () {
		assert.equal(formatDate(d, `${key}%D`), `${key}2`);
	});

	it('should support %hh', function () {
		assert.equal(formatDate(d, `${key}%hh`), `${key}03`);
	});

	it('should support %h', function () {
		assert.equal(formatDate(d, `${key}%h`), `${key}3`);
	});

	it('should support %mm', function () {
		assert.equal(formatDate(d, `${key}%mm`), `${key}04`);
	});

	it('should support %m', function () {
		assert.equal(formatDate(d, `${key}%m`), `${key}4`);
	});

	it('should support %ss', function () {
		assert.equal(formatDate(d, `${key}%ss`), `${key}05`);
	});

	it('should support %s', function () {
		assert.equal(formatDate(d, `${key}%s`), `${key}5`);
	});

	it('should support %dddd', function () {
		assert.equal(formatDate(d, `${key}%dddd`), `${key}Sunday`);
	});

	it('should support %ddd', function () {
		assert.equal(formatDate(d, `${key}%ddd`), `${key}Sun`);
	});

	it('should support %O', function () {
		assert.equal(formatDate(d, `${key}%O`), `${key}${getOffsetString(d)}`);
	});

	it('should format using default pattern', function () {
		assert.equal(formatDate(d), `2000-01-02 03:04:05`);
	});

});
