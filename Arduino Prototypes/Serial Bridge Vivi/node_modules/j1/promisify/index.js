/**
 * convert fn(...args, callback):void to fn(...args):promise
 * @param  {function} fn
 * @param  {*} thisArg
 * @return {function}
 */
module.exports = (fn, thisArg = this) => {
	return (...args) => {
		return new Promise((resolve, reject) => {
			fn.call(thisArg, ...args, (error, result) => {
				if (error) {
					reject(error);
				} else {
					resolve(result);
				}
			});
		});
	};
};
