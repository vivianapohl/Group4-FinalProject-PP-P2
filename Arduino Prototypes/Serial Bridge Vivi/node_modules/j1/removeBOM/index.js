const isString = require('../isString');
const B_BOM = Buffer.from([0xef, 0xbb, 0xbf]);

function removeBOM(x) {
	let buffer = Buffer.from(x);
	if (buffer.slice(0, 3).equals(B_BOM)) {
		buffer = buffer.slice(3);
	}
	return isString(x) ? buffer.toString() : buffer;
}

module.exports = removeBOM;
