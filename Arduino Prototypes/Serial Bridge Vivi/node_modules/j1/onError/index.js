const util = require('util');
const isUndefined = require('../isUndefined');
const isFunction = require('../isFunction');
const console = require('../console').create('onError');

function onError(error, listener) {
	if (isUndefined(error)) {
		error = new Error('onError was called with nothing');
	}
	if (isFunction(listener)) {
		listener(error);
	} else {
		console.error(error);
	}
}

module.exports = util.deprecate(onError, 'Use console.onError instead');
